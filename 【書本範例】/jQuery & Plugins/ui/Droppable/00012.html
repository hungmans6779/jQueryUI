<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "XHTML1-s.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>jQuery Plugins--UI/Droppable---0012</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="../../style.css" />
<script type="text/javascript" src="../js/jquery-1.2.6.pack.js"></script>
<script type="text/javascript" src="../../main.js"></script>
<script type="text/javascript" src="../js/ui.core.js"></script>
<script type="text/javascript" src="../js/ui.draggable.js"></script>
<script type="text/javascript" src="../js/ui.droppable.js"></script>
<script type="text/javascript" src="dr00012.js"></script>

   <style>
  
  .block { 
   top: 5px;
   left: 5px;
   border: 1px solid gray;
   background-color: #68BFEF;
   width: 130px; 
   height: 130px;
   margin: 10px;
   z-index: 100;
}
 .block1 { 
   top: 5px;
   left: 5px;
   border: 2px solid green;
   background-color: #68BFEF;
   width: 130px; 
   height: 130px;
   margin: 10px;
   z-index: 100;
}
.drop { 
   border: 2px #ccc dotted;
   width:160px;
	height: 600px;
	overflow: auto;
   margin: 10px 10px 10px 10px; 
  position: absolute;
  top: 205px;
  right:200px;
  opacity: 0.7;
}
.myactive {
	opacity: 0.2;
	filter:alpha(opacity:20);
}
.myhover {
	border: 5px solid red;
}
</style>
</head>
<body>

<div id="header">

	<h1>jQuery Plugins</h1>
	<h2>UI / Droppable</h2>

</div>

<div id="menu">

	<ul>

		<!--
				Each list item below represents a tab in the menu. Set the class
				of any list item to 'active' to make it, well, active.
		-->

		<li id="first" class="active"><a href="#">Demo</a></li>
		<li><a href="#">Code</a></li>
				<li><a href="index.html">Index</a></li>

		
	</ul>

	<div></div>

</div>


<div id="container">

	<div id="primarycontainer">
				<!-- Demo-->

	<div class="primarycontent" id=0>
	<h1>appendTo($(this))--2</h1>


<img src=../../images/01a.jpg class=block ><img src=../../images/01b.jpg class=block ><br><img src=../../images/01c.jpg class=block1 > 

<div class="drop"></div>

			<!--End Of Demo-->
  
		</div>
					<!--Code-->	
<div class="primarycontent" id=1>
	<p>html 內容<br>
	(與運作有關的是&lt;head&gt;&lt;/head&gt;間引入的js檔案及&lt;!--Demo--&gt;與&lt;!--End Of Demo--&gt;之間的html)  </p>
	<div id=vs></div>
<br><br>			
<p>dr00012.js 內容</p>
  <textarea class=mycode>
                 $(document).ready(function(){
	  	$(".block").draggable({helper: 'clone'});
		$(".block1").draggable({helper: 'clone',opacity: 0.40,snap:'.drop'});
				var mylink = new Array();


  $(".drop").droppable({
	accept: "*",
	activeClass: 'myactive',
	hoverClass: 'myhover',
	tolerance:'pointer',
	out:function(ev,ui){
		var src=ui.draggable.attr('src');
		alert(src+' 未置入已返回');
	},
	drop: function(ev, ui) {
		ui.draggable.clone().fadeOut("fast",
			
        function() { 
			$(this).fadeIn("fast");
        }).appendTo($(this),function(){
			sortit();
			});

	}	
	
});

// Function to unique a Array
function unique(a) {
	tmp = new Array(0);
	for(i=0;i<a.length;i++){
		if(!contains(tmp, a[i])){
			tmp.length+=1;
			tmp[tmp.length-1]=a[i];
		}
	}
	return tmp;
}

function contains(ar, e) {
	for(j=0;j<ar.length;j++) if(ar[j]==e) return true;
	return false;
}

// End Of Function to unique a Array

	function sortit(){
	$('.drop img').each(function(e){
				mylink[e]='<img src='+$(this).attr('src')+' class=block>';
				});

mylink=unique(mylink);
$('.drop').empty();
$(mylink).each(function(e){
$('.drop').append(mylink[e]);
	});
		}
  });






</textarea><br>	
		</div>
	<!--End Of Code-->
	<br><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
	</div>

			<!-- Footer-->



<div id="footer">
	&copy; 2008 ezjquery. Created by <a href="http://www.ezjquery.com/">ezjquery</a> 
	<div id=test></div>

</div>


</body>
</html>
